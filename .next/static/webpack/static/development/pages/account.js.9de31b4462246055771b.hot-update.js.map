{"version":3,"file":"static/webpack/static/development/pages/account.js.9de31b4462246055771b.hot-update.js","sources":["webpack:///./pages/account.js"],"sourcesContent":["import Layout from '../components/SiteLayout.js'\nimport React, { Component, PropTypes } from 'react';\nimport http from '../utils/http'\n\nclass CreatePage extends Component {\n    componentWillMount() {\n        this.setState({ username: '', password: '', name: '', mail: '', error: '' });\n    }\n\n    async login() {\n        this.setState({ error: ''})\n        const j = await http.postJson(`/api/login/`, this.state);\n        if (j.token!=null) {\n            document.cookie = \"x-tasklist-token=\" + j.token\n            document.location = \"/\";\n        } else {\n            this.setState({ error: j.error })\n        }\n    }\n    render() {\n        return <Layout>\n            <h2>Login</h2>\n            <div>Username</div><input type=\"text\" id=\"username\" value={this.state.username}\n                                      onChange={(event) => {\n                                          this.setState({ username: event.target.value, error: '' });\n                                      }} />\n\n            <div>Password</div><input type=\"password\" id=\"password\" value={this.state.password}\n                                      onChange={(event) => this.setState({ password: event.target.value, error: '' })} />\n            <div>Name</div><input type=\"text\" id=\"name\" value={this.state.name}\n                                      onChange={(event) => this.setState({ name: event.target.value, error: '' })} />\n            <div>Email</div><input type=\"text\" id=\"email\" value={this.state.email}\n                                      onChange={(event) => this.setState({ email: event.target.value, error: '' })} />\n            { this.state.error && <div className=\"error\">{this.state.error}<br/></div> }\n            <div><button onClick={() => this.login()}>Login</button></div>\n            <style jsx>\n                {`\n          .error {\n              color: red;\n          }\n            `}</style>\n        </Layout>\n    }\n}\n\nexport default CreatePage;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;AAGA;AAAA;AAAA;;AACA;AACA;;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAHA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAdA;AAAA;AAAA;AAsBA;;;;AAtCA;AACA;AAwCA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}