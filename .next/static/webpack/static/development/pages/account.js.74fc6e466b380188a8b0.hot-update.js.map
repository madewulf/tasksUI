{"version":3,"file":"static/webpack/static/development/pages/account.js.74fc6e466b380188a8b0.hot-update.js","sources":["webpack:///./pages/account.js"],"sourcesContent":["import Layout from '../components/SiteLayout.js'\nimport React, { Component, PropTypes } from 'react';\nimport http from '../utils/http'\n\nclass CreatePage extends Component {\n    componentWillMount() {\n        this.setState({ username: '', password: '', error: '' });\n    }\n\n    async login() {\n        if (this.state.username == '') {\n            this.setState({ error: 'Username is mandatory'})\n        } else if (this.state.password == '') {\n            this.setState({ error: 'Password is mandatory'})\n        }\n        else {\n            this.setState({ error: ''})\n            const j = await http.postJson(`/api/login/`, this.state);\n            if (j.token!=null) {\n                document.cookie = \"x-tasklist-token=\" + j.token\n                document.location = \"/\";\n            } else {\n                this.setState({ error: 'Wrong credentials' })\n            }\n        }\n    }\n    render() {\n        return <Layout>\n            <h2>Login</h2>\n            <div>Username</div><input type=\"text\" id=\"username\" value={this.state.username}\n                                      onChange={(event) => {\n                                          this.setState({ username: event.target.value, error: '' });\n                                      }} />\n\n            <div>Password</div><input type=\"password\" id=\"password\" value={this.state.password}\n                                      onChange={(event) => this.setState({ password: event.target.value, error: '' })} />\n            <div>Name</div><input type=\"text\" id=\"name\" value={this.state.name}\n                                      onChange={(event) => this.setState({ password: event.target.value, error: '' })} />\n            <div>Email</div><input type=\"password\" id=\"password\" value={this.state.password}\n                                      onChange={(event) => this.setState({ password: event.target.value, error: '' })} />\n            { this.state.error && <div className=\"error\">{this.state.error}<br/></div> }\n            <div><button onClick={() => this.login()}>Login</button></div>\n            <style jsx>\n                {`\n          .error {\n              color: red;\n          }\n            `}</style>\n        </Layout>\n    }\n}\n\nexport default CreatePage;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;AAGA;;;;;AACA;AAAA;AAAA;;;;;AACA;;;;;AACA;AAAA;AAAA;;;;;AAGA;AAAA;AAAA;;AACA;AACA;;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAHA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAdA;AAAA;AAAA;AAsBA;;;;AA7CA;AACA;AA+CA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}